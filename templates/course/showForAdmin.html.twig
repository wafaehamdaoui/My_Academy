{% extends 'base.html.twig' %}

{% block title %}{{ course.title }}{% endblock %}

{% block body %}
<div class="container">
  <div class="row">
    <div class="col-md-8">
      <h1 class="mb-4">{{ course.title }}</h1>
      <p>{{ course.description }}</p>
      <p class="mb-2"><strong>Duration:</strong> {{ course.duration }} minutes</p>
      <p class="mb-2"><strong>Level:</strong> {{ course.level }}</p>
      <p class="mb-2"><strong>Price:</strong> {{ course.price }} USD</p>

      <hr>

      <h2 class="mb-3">Lessons</h2>
      {% if course.lessons is not empty %}
      <ul class="list-unstyled">
        {% for lesson in course.lessons %}
        <li class="mb-2">{{ lesson.title }} 
          <a href="{{ path('lessonDetails', {'id': lesson.id}) }}" class="btn btn-sm btn-outline-secondary ml-2">View</a>
        </li>
        {% endfor %}
        
      </ul>
      {% else %}
      <p>No lessons yet</p>
      {% endif %}
      <div class="mt-3">
        <a href="{{ path('NewLesson', {'courseId': course.id}) }}" class="btn btn-primary">Add Lesson</a>
      </div>

      <hr>

      <h2 class="mb-3">Users Enrolled</h2>
      {% if course.users is not empty %}
      <ul class="list-unstyled">
        {% for user in course.users %}
        <li class="mb-2">{{ user.name }}</li>
        {% endfor %}
      </ul>
      {% else %}
      <p>No users enrolled yet</p>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
